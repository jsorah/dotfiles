---
- name: Install python based utilities
  hosts: localhost

  tasks:
    - name: httpie
      ansible.builtin.pip:
        name: httpie
        state: latest
    - name: jarg
      ansible.builtin.pip:
        name: jarg
        state: latest
- name: bootstrap code repos
  hosts: localhost
  vars:
    - "home": "{{ lookup('env', 'HOME') }}"
    - "software_repos_path": "{{ home }}/repos-software"
    - "update_repos": "no"
  tasks:
    - name: create software repos dir
      file:
        path: "{{ software_repos_path }}"
        state: directory
    - name: clone r2
      ansible.builtin.git:
        repo: https://github.com/radareorg/radare2.git
        dest: "{{ software_repos_path }}/radare2" 
        update: "{{ update_repos }}"
    - name: clone ImHex
      ansible.builtin.git:
        repo: https://github.com/WerWolv/ImHex.git
        dest: "{{ software_repos_path }}/ImHex"
        update: "{{ update_repos }}"
    - name: clone dive
      ansible.builtin.git:
        repo: https://github.com/wagoodman/dive.git
        dest: "{{ software_repos_path }}/dive"
        update: "{{ update_repos }}"
    - name: clone k9s
      ansible.builtin.git:
        repo: https://github.com/derailed/k9s.git
        dest: "{{ software_repos_path }}/k9s"
        update: "{{ update_repos }}"
    - name: clone bat
      ansible.builtin.git:
        repo: https://github.com/sharkdp/bat.git
        dest: "{{ software_repos_path }}/bat"
        update: "{{ update_repos }}"
    # fzf gets cloned to the home dir as .fzf
    - name: clone fzf
      ansible.builtin.git:
        repo: https://github.com/junegunn/fzf.git
        dest: "{{ home }}/.fzf"
        update: "{{ update_repos }}"
    - name: clone bingrep
      ansible.builtin.git:
        repo: https://github.com/m4b/bingrep.git
        dest: "{{ software_repos_path}}/bingrep"
        update: "{{ update_repos }}"
